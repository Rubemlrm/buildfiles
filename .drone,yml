pipeline:
  fedora:
    image: fubarhouse/docker-fedora26-ansible
    commands:
      - sudo docker run -it --name=fedora26 --privileged --detach --volume="${PWD}":/data:rw fubarhouse/docker-fedora26-ansible bash
      - sudo docker exec fedora26 ansible-playbook /data/setup.yml -i tests/inventory --syntax-check
      - sudo docker exec fedora26 ansible-playbook /data/setup.yml -i tests/inventory --connection=local
  debian:
    image: fubarhouse/docker-fedora26-ansible
    commands:
      - sudo docker run -it --name=fedora26 --privileged --detach --volume="${PWD}":/data:rw williamyeh/ansible:debian9 bash
      - sudo docker exec debian9 ansible-playbook /data/setup.yml -i tests/inventory --syntax-check
      - sudo docker exec debian9 ansible-playbook /data/setup.yml -i tests/inventory --connection=local



